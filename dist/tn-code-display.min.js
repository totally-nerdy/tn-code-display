class CodeDisplay extends HTMLElement{constructor(){switch(super(),this._code=this.firstElementChild.value,this._language=this.getAttribute("data-language"),this._style=this.getAttribute("data-style")||"monokai-sublime",this._scripts=["https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js","https://www.unpkg.com/prettier@2.8.3/standalone.js"],this._display=function(s){var t=prettier.format(s._code,{parser:s._parser,plugins:prettierPlugins}),e=document.createElement("style"),i=document.createElement("template");e.innerHTML=`@import '//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/${s._style}.min.css';`,i.innerHTML=`<pre><code class="language-${s._language}"></code></pre>`,s.shadowRoot.appendChild(i.content.cloneNode(!0)),s.shadowRoot.appendChild(e),s.shadowRoot.querySelector("pre code").appendChild(document.createTextNode(t)),hljs.highlightElement(s.shadowRoot.querySelector("pre code"))},this._loadScriptsAndDisplay=function(t){var s=t._scripts.shift(),e=document.createElement("script");t.shadowRoot.appendChild(e),e.onload=function(s){t._scripts.length?t._loadScriptsAndDisplay(t):t._display(t)},e.src=s},this._language){case"css":this._scripts.push("https://www.unpkg.com/prettier@2.8.3/parser-postcss.js"),this._parser="css";break;case"scss":this._scripts.push("https://www.unpkg.com/prettier@2.8.3/parser-postcss.js"),this._parser="scss";break;case"less":this._scripts.push("https://www.unpkg.com/prettier@2.8.3/parser-postcss.js"),this._parser="less";break;case"javascript":this._scripts.push("https://www.unpkg.com/prettier@2.8.3/parser-meriyah.js"),this._parser="meriyah";break;case"html":this._scripts.push("https://www.unpkg.com/prettier@2.8.3/parser-html.js"),this._parser="html"}this.attachShadow({mode:"open"}),this._loadScriptsAndDisplay(this)}}customElements.define("tn-code-display",CodeDisplay);