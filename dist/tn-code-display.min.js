class CodeDisplay extends HTMLElement{constructor(){super();switch(this._code=this.firstElementChild.value,this._language=this.getAttribute("data-language"),this._style=this.getAttribute("data-style")||"monokai-sublime",this._loadingColor=this.getAttribute("data-loading-color")||"#10c100",this._scripts=["https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js","https://www.unpkg.com/prettier@2.8.3/standalone.js"],this._display=function(e){var t=prettier.format(e._code,{parser:e._parser,plugins:prettierPlugins}),s=document.createElement("style"),i=document.createElement("template");s.innerHTML=`@import '//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/${e._style}.min.css';`,i.innerHTML=`<pre><code class="language-${e._language}"></code></pre>`,e.shadowRoot.querySelector("svg").remove(),e.shadowRoot.appendChild(i.content.cloneNode(!0)),e.shadowRoot.appendChild(s),e.shadowRoot.querySelector("pre code").appendChild(document.createTextNode(t)),hljs.highlightElement(e.shadowRoot.querySelector("pre code"))},this._loadScriptsAndDisplay=function(t){var e=t._scripts.shift(),s=document.createElement("script");t.shadowRoot.appendChild(s),s.onload=function(e){t._scripts.length?t._loadScriptsAndDisplay(t):t._display(t)},s.src=e},this._language){case"css":this._scripts.push("https://www.unpkg.com/prettier@2.8.3/parser-postcss.js"),this._parser="css";break;case"scss":this._scripts.push("https://www.unpkg.com/prettier@2.8.3/parser-postcss.js"),this._parser="scss";break;case"less":this._scripts.push("https://www.unpkg.com/prettier@2.8.3/parser-postcss.js"),this._parser="less";break;case"javascript":this._scripts.push("https://www.unpkg.com/prettier@2.8.3/parser-meriyah.js"),this._parser="meriyah";break;case"html":this._scripts.push("https://www.unpkg.com/prettier@2.8.3/parser-html.js"),this._parser="html"}this.attachShadow({mode:"open"});var e=document.createElement("template");e.innerHTML='<svg fill="%LOADING_COLOR%" height="20" viewBox="0 0 120 30" xmlns="http://www.w3.org/2000/svg"><circle cx="15" cy="15" r="15"><animate attributeName="r" begin="0s" calcMode="linear" dur="0.8s" from="15" repeatCount="indefinite" to="15" values="15;9;15"/><animate attributeName="fill-opacity" begin="0s" calcMode="linear" dur="0.8s" from="1" repeatCount="indefinite" to="1" values="1;.5;1"/></circle><circle cx="60" cy="15" r="9" fill-opacity=".3"><animate attributeName="r" begin="0s" calcMode="linear" dur="0.8s" from="9" repeatCount="indefinite" to="9" values="9;15;9"/><animate attributeName="fill-opacity" begin="0s" calcMode="linear" dur="0.8s" from="0.5" repeatCount="indefinite" to="0.5" values=".5;1;.5"/></circle><circle cx="105" cy="15" r="15"><animate attributeName="r" begin="0s" calcMode="linear" dur="0.8s" from="15" repeatCount="indefinite" to="15" values="15;9;15"/><animate attributeName="fill-opacity" begin="0s" calcMode="linear" dur="0.8s" from="1" repeatCount="indefinite" to="1" values="1;.5;1"/></circle></svg>'.replace("%LOADING_COLOR%",this._loadingColor),this.shadowRoot.appendChild(e.content.cloneNode(!0)),this._loadScriptsAndDisplay(this)}}customElements.define("tn-code-display",CodeDisplay);